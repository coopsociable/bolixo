function:  test It is used to validate the health of the server.
prm success: Will contain true if everything is fine.
prm msg: Normally empty, contains some error message.

function: login support for normal end user login.
	This is the function to get in.
prm email: User email
	fully qualified
prm password: password not hashed
prm success: true means the login was successful.
prm sessionid: This is the string you will use in the rest of the API.

function: logout End the session
prm sessionid: Session ID

function: addfile Add a file to a project 
prm name: Fully qualified file name path
prm content: Text content

function: addfile_bob Add a binary file to a project
prm name: Fully qualified file name path
prm content: Binary content
prm more: The content is not complete, appendfile will be called
prm handle: This handle will be used with appendfile so it appends to the proper content



function: appendfile Send extra chunks of a file or message.
prm sessionid:
prm  handle: Handle received by sendtalk and addfile_bob calls.
prm content: Binary content
prm more: Is there more chunks to send ?
prm success:
prm msg:

#delfile sessionid name = success:b msg
#undelete sessionid dirname = success:b msg
#modifyfile sessionid name content = success:b msg
#modifyfile_bob sessionid name content:o more:b owner = success:b handle msg
#rename sessionid oldname newname = success:b msg
#copy sessionid srcname srcdate dstname = success:b msg
#readfile sessionid name threshold = success:b msg content info:U{READINFO}
#readfile_bob sessionid name threshold nomore:b = success:b msg content:o info:U{READINFO} handle more:b
#readmore sessionid handle = success:b msg content:o more:b
#mkdir sessionid name = success:b msg
#rmdir sessionid name = success:b  msg
#listdir sessionid name threshold history:b offset:u nb:u = success:b msg files:U{FILEINFO}v
#stat sessionid name threshold = success:b msg file:U{FILEINFO}
#set_access sessionid name username listowner listname listmode owner = success:b msg
#markview sessionid name = success:b msg


function: list_inboxes Get all the inboxes for this user. private and group
prm sessionid:
prm owner:
prm showroles:
prm list_own_projects:
prm success:
prm inboxes: Array of INBOX objects

#list_msgs sessionid owner project deleted:b offset:u nb:u = success:b msg messages:U{MESSAGE}v
#sendmsg sessionid owner recipients:v title content = success:b msg msgid
#sendmsg_project sessionid owner manager project role title content = success:b msg msgid
#replymsg sessionid owner msgid recipients:v title content = success:b msg replyid
#replymsg_project sessionid owner manager project role msgid title content = success:b msg replyid
#sendattach sessionid owner msgid content:o more:b = success:b msg handle

function: sendtalk Send a short message to a group (or private message)
prm sessionid:
prm owner:
prm to: Extra recipients list
prm groupname: Target group. For private message, this is 'inbox'.
prm groupowner: Target group owner. For private message, this is the owner of the 'inbox'.
prm content:
prm more: If the content exceed 40k, it must be broken in chunks and appendfile must
	be used with the handle received with this call.
prm name: Optional name of the message. Usually empty.
	The 3 parameters (name,sign,createdby) are used
	when a message is copied to a remote server. For a new
	message, the parameters are empty.
prm sign: Digital signature of the message (empty for a new message)
prm createdby: Original author of the message (empty for a new message)
prm success:
prm msg:
prm handle: Handle used for appendfile call if needed (large content).

#sendtalk_file sessionid owner to:v groupname groupowner filename filedate = success:b msg

function: list_talk Get some messages from a group or inbox
prm sessionid:
prm owner:
prm groupname: Group name or 'inbox'
prm groupowner: Group owner
prm fulltext: Array of message UUIDs. For those message, the server returns the full text instead of the truncated version
prm offset: Offset of the first message.
prm nb: Maximum number of messages returned.
prm firstseen: UUID of the most recent message presented to the user
prm success:
prm msg:
prm messages: Array of SHORTMSG
prm deletes:
prm total: Number of message available on the server for this group
prm nbnew: Number of message newer than 'firstseen'

#list_lists sessionid owner = success:b msg lists:U{LIST}v
function: list_groups
prm sessionid:
prm owner:
prm only_owner: Only 
prm success:
prm msg:
prm groups: Array of groups. See the GROUP definition.
	Note that groups 'inbox' and 'anonymous' are special.
	The group inbox represent the private inbox of the user.
	As such, it should be handled differently.
	The group anonymous is not implemented yet and should be ignored.

#list_contacts sessionid owner = success:b msg members:v
#create_group_list sessionid listname owner = success:b msg
#create_group sessionid groupname owner = success:b msg
#delete_group sessionid groupname owner = success:b msg
#delete_list sessionid listname owner = success:b msg
#set_group sessionid listname groupname defaultaccess owner = success:b msg
#set_member sessionid groupname user access role owner = success:b msg
#list_members sessionid owner listname = success:b msg members:v

#public_listdir username dirpath offset:u nb:u = success:b msg files:U{FILEINFO}v
#public_readfile username filepath offset:u = success:b msg content:o more:b size:u
#public_list_talk username offset:u nb:u = success:b msg messages:U{SHORTMSG}v

#systempubkey = pubkey
#verifysign nickname msg = status:e{ERR_CODE} msg
#getpubkey nickname = success:b pubkey
#registernode nodename = success:b msg
## logout is the same for remote and local
#remotelogin user = success:b msg sessionid
#remotepass sessionid user sign = success:b msg
#remote_interest_set sessionid user = success:b msg
#remote_interest_unset sessionid user = success:b msg
#nodelogin nodename = success:b msg session
#nodepass session sign = success:b msg

function: interest_set Subscribe to public messages of a user
prm sessionid:
prm user: user account
prm owner: (for admin request) operation done on behalf of this user
prm success: 
prm msg: Error message

function: interest_unset Unsubscribe from a user public messages
prm sessionid: Session ID
prm user: user account
prm owner: (for admin request) operation done on behalf of this user
prm success: 
prm msg: Error message

function: interest_list Return the interest list (accounts) of the user
prm sessionid:
prm owner:
prm success:
prm msg:
prm users: List of user accounts you subscribed.
	See INTUSER definition.

function: interest_check Get the latest public messages
prm sessionid:
prm owner:
prm fulltext: Request the complete message for those message IDs 
prm offset: Skip the first 'offset' message from the list.
prm nb: Report at most 'nb' messages
prm firstseen: Message ID of the last message you saw
prm success:
prm msg:
prm messages: List of message. See MAINMSG for details.
prm total: Number of messages available
prm nbnew: Number of messages the user have not seen

#config_read sessionid owner = success:b msg config:U{CONFIG}
#config_write sessionid owner config:U{CONFIG} = success:b msg

#contact_request sessionid owner user intro = success:b msg
#contact_manage  sessionid owner user status:e{CONTACT_STATUS} = success:b msg
#contact_list sessionid owner to_me:b contact offset:u nb:u = success:b msg contacts:U{CONTACT}v
#contact_remove sessionid owner user = success:b msg

#playstep sessionid owner path docnum:u steps:U{VARVAL}v uispecs:U{DOC_UI_SPECS} = success:b msg res:U{VARVAL}v more:b handle
#playstep_more sessionid owner path handle = success:b msg res:U{VARVAL}v more:b

