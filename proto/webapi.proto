test = success:b msg
login email password = success:b sessionid
logout sessionid

addfile sessionid name content = success:b msg
addfile_bob sessionid name content:o more:b = success:b handle msg
appendfile sessionid handle content:o more:b = success:b msg
delfile sessionid name = success:b msg
undelete sessionid dirname = success:b msg
modifyfile sessionid name content = success:b msg
modifyfile_bob sessionid name content:o more:b = success:b handle msg
rename sessionid oldname newname = success:b msg
copy sessionid srcname srcdate dstname = success:b msg
readfile sessionid name threshold = success:b msg content
readfile_bob sessionid name threshold = success:b msg content:o handle more:b
readmore sessionid handle = success:b msg content:o more:b
mkdir sessionid name = success:b msg
rmdir sessionid name = success:b  msg
listdir sessionid name threshold history:b offset:u nb:u = success:b msg files:U{FILEINFO}v
stat sessionid name threshold = success:b msg file:U{FILEINFO}
set_access sessionid name username listname listmode = success:b msg
markview sessionid name = success:b msg


list_inboxes sessionid owner showroles:b = success:b msg inboxes:U{INBOX}v
list_msgs sessionid owner project deleted:b offset:u nb:u = success:b msg messages:U{MESSAGE}v
sendmsg sessionid owner recipients:v title content = success:b msg msgid
sendmsg_project sessionid owner manager project role title content = success:b msg msgid
replymsg sessionid owner msgid recipients:v title content = success:b msg replyid
replymsg_project sessionid owner manager project role msgid title content = success:b msg replyid
sendattach sessionid owner msgid content:o more:b = success:b msg handle

sendtalk sessionid owner to:v groupname groupowner content:o more:b sign createdby = success:b msg handle
sendtalk_file sessionid owner to:v groupname groupowner filename filedate = success:b msg
list_talk sessionid owner groupname groupowner offset:u nb:u = success:b msg messages:U{SHORTMSG}v deletes:b

# Public access
public_listdir username dirpath offset:u nb:u = success:b msg files:U{FILEINFO}v
public_readfile username filepath offset:u = success:b msg content:o more:b size:u
public_list_talk username offset:u nb:u = success:b msg messages:U{SHORTMSG}v

#system
systempubkey = pubkey
verifysign nickname msg = status:e{ERR_CODE} msg
getpubkey nickname = success:b pubkey
registernode nodename = success:b msg
# logout is the same for remote and local
remotelogin user = success:b msg sessionid
remotepass sessionid user sign = success:b msg
remote_interest_set sessionid user = success:b msg
remote_interest_unset sessionid user = success:b msg
nodelogin nodename = success:b msg session
nodepass session sign = success:b msg

# Config
config_read sessionid owner = success:b msg config:U{CONFIG}
config_write sessionid owner config:U{CONFIG} = success:b msg
