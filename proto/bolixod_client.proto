# section: Requests from nodes
registernode nodename = success:b msg
nodelogout session = success:b msg
nodelogin nodename = success:b msg session
nodepass session sign = success:b msg
&USERINFO user nodename fullname address1 address2 city zipcode state country email phone fax bolixosite website interest photo:o mini_photo:o
publish session info:U{USERINFO} = success:b msg
# function: The first version included the photos. This makes the packet too large.
# The photos are sent separatly
&USERINFO_V2 user nodename fullname address1 address2 city zipcode state country email phone fax bolixosite website interest remove_photo:b remove_mini_photo:b
publish_v2 session info:U{USERINFO_V2} = success:b msg
publish_file session user name content:o more:b append:b = success:b msg 
remove session user = success:b msg
test = msg sessiond:b db:b fsok:b

recordemail session userid email = success:b msg
# function: Associate an email with a node allowing central login from bolixo.org
getnode email = success:b msg nodename

newacct_findnode userid = success:b msg nodename
# function: Find one available node to create a account
# The user has specified the ID it wants

# section: Public stuff, no session or password required
# Requests from the web page bolixo.hc
&FILTER user fullname address city state country interest
&USERPUBINFO user nodename fullname address1 address2 city zipcode state country email phone fax bolixosite website interest photo:b mini_photo:b
pub_search filter:U{FILTER} offset:u nb:u = success:b msg users:U{USERPUBINFO}v
pub_list prefix offset:u nb:u = success:b msg users:U{USERPUBINFO}v
&USERPUBINFO_V2 user nodename fullname address1 address2 city zipcode state country email phone fax bolixosite website interest photo_modified mini_photo_modified
pub_search_v2 filter:U{FILTER} offset:u nb:u = success:b msg users:U{USERPUBINFO_V2}v
readfile node user file = success:b msg modified content:o
readfile_v2 node user file offset:u = success:b msg modified content:o more:b size:u
