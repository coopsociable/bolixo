# This file contains commands used to update a Bolixo system.
# The script is provided with the package.
# The utility /usr/lib/bolixo-update will parse this file and execute
# the commands as needed.
# The command "bolixo-production update-script" retrieve from the database
# the state of the system, /usr/lib/bolixo-update execute the needed commands
# and update the state.

# The file is made of tags followed by commands. Tags are identified by a ---- sequence followed
# by the tag name, followed by an optional description.
----cgitimeout extend the cgi timeout so notification requests wait longer
bo calltest createdb-patch8
bo config
----webdirserver
bo config
----webdirserver2
bo lxc0s
bo config
----web2dirserver Allow the web container to reach the directory server
bo config
/root/iptables.sh
----alpha-web2bolixo.org Allow web container to reach bolixo.org (on the same server)
bo config
/etc/init.d/blackhole reload
----dnsrequest Includes dns resolver librairies in lxc0-web
bo calltest lxc0-web
----add-interests.jpg Image for documentation
bo calltest lxc0-webssl
----websocket new service in web container
bo config
/etc/init.d/horizon reload
/etc/init.d/blackhole reload
bo calltest lxc0-web
----websocket-monitor configuration for bo-mon
bo config
/etc/init.d/horizon reload
/etc/init.d/blackhole reload
----documentd-font access freetype fonts in documentd
rm -f /var/lib/lxc/documentd/publishd.files
bo calltest lxc0-documentd
----documentd-ulimit Limit memory for documentd
bo config
----font-serif Add DejaVuSerif.ttf to web and documentd
bo calltest lxc0-web
bo calltest lxc0-documentd
----gnuchess  Add support for gnuchess, if installed in documentd
bo calltest lxc0-documentd

